This is my project to automatically analyse Singapore's economic data using LLMs. The basic idea is simple: type in a query, and the machine does everything for you and gives you an answer with a chart. You can ask a

# Usage
You can view the project at deployment link [here](https://sgdataproject-frontend.onrender.com/). Alternatively, you can download it and run the backend by doing

```
export PORT=10000
uvicorn src.microservice.main:app --host 0.0.0.0 --port $PORT
```

# Example screenshots
![image](https://github.com/user-attachments/assets/c958e92d-25dd-4219-a7f6-f42760607ddc)

# How it works
There are four parts to this  
1. Data download
2. AI agent code
3. Running the microservice 
4. Rendering the frontend (in progress)

## Data download
All of the code in this is in the folder ```src/download```.  The download process does the following
1. Downloads each dataset with its metadata
2. Processes it such that each column is saved to one CSV
3. Tags each dataset with its appropriate metadata
4. Uploads each dataset name to a SQLite database with its pathname, metadata and other details. These will be used in querying later

## AI Agent Code
There are three main features in this system: a dataset selector using HuggingFace 0-shot classification models, one that uses SQL code generated by Llama3, and an AI code writing agent that uses chain of thought.

### Dataset selection using 0shot classification models
The model used is Facebook's (bart-large-mnli)[https://huggingface.co/facebook/bart-large-mnli]. For a detailed explanation of how zero shot classification see (this resource)[https://joeddav.github.io/blog/2020/05/29/ZSL.html]. 
This first classifies the given query to one of the three categories: [Inflation, GDP, Unemployment]. 

For unemployment it picks the correct category of unemployment (total, resident and citizen) using a huggingFace 0shot classification model. 
For inflation, it picks the right sector, then the subsector, and specific product category using the same method. And for GDP it picks the right sector by passing all the sectors as labels for classification

### Dataset selection using Llama-3 generated code

I prompt the model with the schema of the SQLite dataset the metadata was downloaded to and prompt it to generate a SQLite query which selects a range of relevant datasets. For example, if the user asks "What is the current unemployment rate", the model would generate the query "SELECT * from datasets where type='Unemployment' and level = 'TotalEconomy'". This provides us with all datasets passed to the AI planning module, which will later select the correct ones.

### AI code writing agent

